<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mono Koto LLC</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;700&display=swap"
      rel="stylesheet"
    />
    <style>
      #bg {
        position: absolute;
        top: 0;
        left: 0;
      }
      .container {
        display: flex;
        position: absolute;
        top: 0;
        bottom: 0;
        right: 0;
        left: 0;
      }
      .content {
        z-index: 10;
        padding: 10px;
        margin: auto;
        font-size: 1.2em;
        filter: drop-shadow(3px 0px 1px #1d3557);
      }
      .content, a {
        color: #f1faee;
      }

      canvas {
        display: block;
      }
      html,
      body {
        font-family: "Open Sans", sans-serif;
      }
    </style>
  </head>
  <body>
    <div id="bg"></div>
    <div class="container">
      <div class="content">
        <strong>Mono Koto</strong>
        <br />Special &amp; unusual technology projects<br /><a
          href="mailto:info@mono-koto.com"
          >info@mono-koto.com</a
        >
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.4.0/lib/p5.js"></script>
    <script>
      const container = document.getElementById("bg");
      const s = (p) => {
        const colors = ["#e63946","#f1faee","#a8dadc","#457b9d","#1d3557"];
        const contrastColor = colors.shift();
        const bgColor = colors.pop();
        const stars = new Array();
        const maxStars = 800;
        let numStars = 800;

        updateNumStars = function () {
          numStars = Math.round(maxStars * Math.min(1, p.width / 1280));
        };

        for (let i = 0; i < maxStars; i++) {
          stars.push({
            radius: Math.random(),
            x: Math.random(),
            y: Math.random(),
            alpha: Math.random(),
            v: Math.random(),
            c: Math.floor(Math.random() * colors.length),
          });
        }

        stars.unshift({
          radius: Math.random() + .8,
          x: Math.random(),
          y: Math.random(),
          alpha: 1,
          v: Math.random() / -2 - 0.5,
          c: -1,
        });

        p.setup = function () {
          p.createCanvas(p.windowWidth, p.windowHeight);
          p.noStroke();
          p.pixelDensity(1);
          updateNumStars();
        };

        p.draw = function () {
          p.background(bgColor);
          for (let i = 0; i < numStars; i++) {
            const s = stars[i];
            const r = s.radius * 15;
            const v = 0.0001 + s.v / 1500;
            let color;
            if (s.c >= 0) {
              color = p.color(colors[s.c]);
              color.setAlpha(s.alpha * 255);
            } else {
              color = p.color(contrastColor);
              color.setAlpha(s.alpha * 255);
            }

            p.fill(color);
            p.circle(s.x * p.width, s.y * p.height, r * 2);
            if (s.v >= 0) {
              s.y -= v;
              if (s.y * p.height + r < 0) {
                s.y = (p.height + r) / p.height;
              }
            } else {
              s.x -= v;
              s.y += v;
              if (s.x * p.width - r > p.width) {
                s.x = -r / p.width;
              }
              if (s.y * p.height + r < 0) {
                s.y = (p.height + r) / p.height;
              }
            }
          }
        };

        p.windowResized = function () {
          p.resizeCanvas(p.windowWidth, p.windowHeight);
          updateNumStars();
        };
      };
      new p5(s, container);
    </script>
  </body>
</html>
